cmake_minimum_required(VERSION 3.12)
project(zhnmat)
set(CMAKE_BUILD_TYPE release)
option(USE_OPENCV "If you can use OpenCV." ON)
if(USE_OPENCV)
    find_package(OpenCV REQUIRED)
    add_definitions(-DUSE_OPENCV)
endif()
add_library(${CMAKE_PROJECT_NAME}_lib STATIC matrix.cpp matrixcontrib.cpp vector3d.cpp)
if(USE_OPENCV)
    target_link_libraries(${CMAKE_PROJECT_NAME}_lib ${OpenCV_LIBS})
endif()
#set(PROJECT_SOURCES main.cpp matrix.cpp matrixcontrib.cpp vector3d.cpp)
#add_executable(${CMAKE_PROJECT_NAME}_exe ${PROJECT_SOURCES})
#target_link_libraries(${CMAKE_PROJECT_NAME}_exe ${CMAKE_SOURCE_DIR}/zhngdi.a)
#target_link_libraries(${CMAKE_PROJECT_NAME}_exe gdiplus.lib)

message(STATUS "project name: ${CMAKE_PROJECT_NAME}")
message(STATUS "project version: 1.1.3")
message(STATUS "project build type: ${CMAKE_BUILD_TYPE}")
message(STATUS "if use opencv: ${USE_OPENCV}")
if(USE_OPENCV)
    message(STATUS "OpenCV config: ${OpenCV_DIR}")
    message(STATUS "OpenCV include path: ${OpenCV_INCLUDE_DIRS}")
    message(STATUS "OpenCV version: ${OpenCV_VERSION}")
endif()
